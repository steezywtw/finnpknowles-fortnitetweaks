<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Basketball Game</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <h1>üèÄ Mini Basketball Game</h1>
  <canvas id="gameCanvas" width="800" height="500"></canvas>
  <p>Drag and release to shoot the ball!</p>
  <script src="script.js"></script>
</body>
</html>
body {
  text-align: center;
  background: #f4f4f4;
  font-family: sans-serif;
  margin: 0;
  padding: 0;
}
h1 {
  margin-top: 20px;
}
canvas {
  background: #87CEEB;
  border: 2px solid #333;
  margin-top: 20px;
}
p {
  font-size: 16px;
  color: #333;
}

const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let ball = { x: 100, y: 400, radius: 15, dx: 0, dy: 0, isMoving: false };
const hoop = { x: 700, y: 150, width: 60, height: 10 };
let gravity = 0.5;
let score = 0;
let dragging = false;
let dragStart = null;

// Sound effects
const swishSound = new Audio("https://www.soundjay.com/button/beep-07.wav");
const missSound = new Audio("https://www.soundjay.com/button/beep-10.wav");

// Draw hoop (moving left/right)
let hoopDirection = 1;
function drawHoop() {
  ctx.fillStyle = "red";
  ctx.fillRect(hoop.x, hoop.y, hoop.width, hoop.height);
}

// Draw ball
function drawBall() {
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
  ctx.fillStyle = "orange";
  ctx.fill();
  ctx.closePath();
}

// Draw score
function drawScore() {
  ctx.fillStyle = "black";
  ctx.font = "20px Arial";
  ctx.fillText("Score: " + score, 20, 30);
}

// Update game
function update() {
  if (ball.isMoving) {
    ball.x += ball.dx;
    ball.y += ball.dy;
    ball.dy += gravity;

    if (
      ball.x > hoop.x &&
      ball.x < hoop.x + hoop.width &&
      ball.y > hoop.y &&
      ball.y < hoop.y + hoop.height
    ) {
      score++;
      swishSound.play();
      resetBall();
    }

    if (ball.y > canvas.height || ball.x > canvas.width || ball.x < 0) {
      missSound.play();
      resetBall();
    }
  }

  // Move hoop
  hoop.x += hoopDirection * 2;
  if (hoop.x <= 0 || hoop.x + hoop.width >= canvas.width) {
    hoopDirection *= -1;
  }

  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawHoop();
  drawBall();
  drawScore();

  requestAnimationFrame(update);
}

function resetBall() {
  ball = { x: 100, y: 400, radius: 15, dx: 0, dy: 0, isMoving: false };
}

canvas.addEventListener("mousedown", (e) => {
  if (!ball.isMoving) {
    dragging = true;
    dragStart = { x: e.offsetX, y: e.offsetY };
  }
});

canvas.addEventListener("mouseup", (e) => {
  if (dragging && !ball.isMoving) {
    const dragEnd = { x: e.offsetX, y: e.offsetY };
    const powerX = (dragStart.x - dragEnd.x) / 10;
    const powerY = (dragStart.y - dragEnd.y) / 10;
    ball.dx = -powerX;
    ball.dy = -powerY;
    ball.isMoving = true;
    dragging = false;
  }
});

update();

